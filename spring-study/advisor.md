# 포인트컷, 어드바이스, 어드바이저

* **포인트컷**(`Pointcut`) : 어디에 부가 기능을 적용할지 안할지를 판단하는 필터링 로직이다.
* **어드바이스**(`Advice`) : 프록시가 호출하는 부가기능. 즉, 프록시 로직
* **어드바이저**(`Advisor`) : 한 개의 포인터컷과 한 개의 어드바이스를 가지고 있다. 즉, **포인트컷1+어드바이스1**를 가지고 있는 것

**포인트컷**으로 어디에? 적용할지 선택하고, **어드바이스**로 어떤 로직을 적용할지 선택하는 것  
그리고 어디에? 어떤 로직?을 모두 알고 있는 것이 **어드바이저**이다.

중요: 포인트컷은 2가지에 사용된다. 
**1. 프록시 적용 여부 판단 - 생성 단계** 
* 자동 프록시 생성기는 포인트컷을 사용해서 해당 빈이 프록시를 생성할 필요가 있는지 없는지 체크한다. 클래스 + 메서드 조건을 모두 비교한다. 이때 모든 메서드를 체크하는데, 포인트컷 조건에 하나하나 매칭해 본다. 만약 조건에 맞는 것이 하나라도 있으면 프록시를 생성한다. 
* 예) `orderControllerV1` 은 `request()` , `noLog()` 가 있다. 여기에서 `request()` 가 조건에 만족하므로 프록시를 생성한다.
* 만약 조건에 맞는 것이 하나도 없으면 프록시를 생성할 필요가 없으므로 프록시를 생성하지 않는다. 
**2. 어드바이스 적용 여부 판단 - 사용 단계**
* 프록시가 호출되었을 때 부가 기능인 어드바이스를 적용할지 말지 포인트컷을 보고 판단한다. 앞서 설명한 예에서 `orderControllerV1` 은 이미 프록시가 걸려있다. 
* `orderControllerV1` 의 `request()` 는 현재 포인트컷 조건에 만족하므로 프록시는 어드바이스를 먼 저 호출하고, `target` 을 호출한다.
* `orderControllerV1` 의 `noLog()` 는 현재 포인트컷 조건에 만족하지 않으므로 어드바이스를 호출하지 않고 바로 `target` 만 호출한다. 
